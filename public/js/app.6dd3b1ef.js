(function(t){function e(e){for(var a,i,s=e[0],u=e[1],c=e[2],m=0,d=[];m<s.length;m++)i=s[m],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);l&&l(e);while(d.length)d.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,s=1;s<n.length;s++){var u=n[s];0!==r[u]&&(a=!1)}a&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},o=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var l=u;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("64a9"),r=n.n(a);r.a},"2f65":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("b-navbar",{attrs:{toggleable:"md",type:"dark",variant:"info"}},[n("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),n("b-container",[n("b-navbar-nav",[n("b-row",[n("b-button",{attrs:{size:"sm",variant:"info"},on:{click:function(e){return t.routeNav("home")}}},[t._v("Home")]),t.isLogin?n("b-button",{attrs:{size:"sm",variant:"info",href:"#"},on:{click:function(e){return t.routeNav("profile")}}},[t._v("Profile")]):t._e(),t.isLogin?t._e():n("b-button",{attrs:{size:"sm",variant:"info",href:"#",disabled:""}},[t._v("Profile")]),t.isLogin?n("b-button",{attrs:{size:"sm",variant:"info"},on:{click:function(e){return t.routeNav("registerstudent")}}},[t._v("Register Student ")]):t._e()],1)],1),t.widthMobile?n("b-col",{attrs:{ml:"auto"}}):t._e(),n("b-navbar-nav",{staticClass:"pull-right"},[n("b-row",[t.isLogin?n("b-button",{attrs:{size:"sm",variant:"info"},on:{click:function(e){return t.routeNav("logout")},loginEvent:t.isLoginChange}},[t._v("LOGOUT ")]):t._e(),t.isLogin?t._e():n("b-button",{attrs:{size:"sm",variant:"info"},on:{click:function(e){return t.routeNav("login")}}},[t._v("LOGIN ")]),t.isLogin?t._e():n("b-button",{attrs:{size:"sm",varjdoc3:"",laravel:"",documentationiant:"info"},on:{click:function(e){return t.routeNav("register")}}},[t._v("REGISTER ")])],1)],1)],1)],1),n("b-container",[n("router-view",{attrs:{isLogin:"isLogin"}})],1)],1)},o=[],i=(n("96cf"),n("3b8d")),s=n("faa1"),u={name:"app",components:{},data:function(){return{profileAuth:"",isLogin:!1,widthMobile:!1}},methods:{routeNav:function(t){this.$router.push(t)},isLoginChange:function(t){console.log("looo"),console.log(t)}},created:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:window.innerWidth<960&&(this.widthMobile=!0);try{this.$stAuth.loadAuthInit()?(this.isLogin=this.$stAuth.loggedIn,this.profileAuth=this.$stAuth.profile):this.isLogin=!1}catch(e){}case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},c=u,l=(n("034f"),n("2877")),m=Object(l["a"])(c,r,o,!1,null,null,null),d=m.exports,p=n("8c4f"),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",[n("b-row",{staticClass:"justify-content-md-center margin-center-top"},[n("HomeLoginOutCont",{attrs:{isLogin:t.isLogin}})],1)],1)},f=[],b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isLoginInternal?t._e():n("HomeNoLogin"),t.isLoginInternal?n("HomeLoggedInComp",[n("StudentListComp",{attrs:{data:t.dataStudent}}),n("AllStudentListComp",{attrs:{data:t.dataStudentWithParents}}),n("hr"),n("b-row",{staticClass:"justify-content-md-center"},[n("b-button",{attrs:{size:"md"},on:{click:t.getParentsStudentsData}},[t._v("Parents Students")]),n("b-button",{attrs:{size:"md"},on:{click:t.getAllStudentsData}},[t._v("All Students")])],1)],1):t._e()],1)},g=[],v=(n("7f7f"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-card",{staticClass:"mb-6 text-center display-flex",staticStyle:{"max-width":"20rem"},attrs:{title:"JWT Auth Demostration Project","img-src":"https://picsum.photos/600/300/?image=25","img-alt":"Image","img-top":"",tag:"article"}},[n("b-card-text",[t._v("\n             Samet Temizer \n             Backend JWT flow\n             Backend Authentication & Authorization API\n             ")]),n("b-row",[n("b-col",{attrs:{xs:"12"}},[n("b-button",{attrs:{variant:"warning"},on:{click:t.routeRegister}},[t._v(" Proceed to Register")])],1),n("b-col",{attrs:{xs:"12"}},[n("b-button",{attrs:{variant:"success"},on:{click:t.routeLogin}},[t._v(" Proceed to Login")])],1)],1)],1)}),w=[],_={name:"homeNoLogin",methods:{routeRegister:function(){this.$router.push("register")},routeLogin:function(){this.$router.push("login")}}},y=_,x=Object(l["a"])(y,v,w,!1,null,null,null),k=x.exports,S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-card",{staticClass:"mb-6 text-center display-flex",staticStyle:{"max-width":"40rem"},attrs:{title:"LOGGED IN",tag:"article"}},[n("hr"),n("b-card-text",[t._v("\n            Samet Temizer \n            Backend JWT flow\n            Backend Authentication & Authorization API\n            ")]),n("b-card-text",[t._t("default")],2)],1)},O=[],j={name:"HomeLoggedInComp",data:function(){return{data:[]}},components:{},methods:{}},A=j,L=Object(l["a"])(A,S,O,!1,null,null,null),C=L.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-list-group",t._l(t.data,(function(e){return n("b-list-group-item",{key:e.id,staticClass:"mt-3"},[n("b-input-group",{attrs:{size:"sm",prepend:".Name"}},[n("b-form-input",{attrs:{disabled:""},model:{value:e.name,callback:function(n){t.$set(e,"name",n)},expression:"item.name"}})],1),n("b-input-group",{attrs:{size:"sm",prepend:"E-mail "}},[n("b-form-input",{attrs:{disabled:""},model:{value:e.email,callback:function(n){t.$set(e,"email",n)},expression:"item.email"}},[n("br")])],1),n("b-input-group",{attrs:{size:"sm",prepend:"TC No"}},[n("b-form-input",{attrs:{disabled:""},model:{value:e.idendity_no,callback:function(n){t.$set(e,"idendity_no",n)},expression:"item.idendity_no"}})],1)],1)})),1)],1)},$=[],R={name:"studentlistcomp",props:["data"],methods:{}},z=R,I=(n("d3ae"),Object(l["a"])(z,E,$,!1,null,"8f3dfdd8",null)),N=I.exports,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-list-group",t._l(t.data,(function(e){return n("b-list-group-item",{key:e.id,staticClass:"mt-3"},[n("b-input-group",{attrs:{size:"sm",prepend:".Name"}},[n("b-form-input",{attrs:{disabled:""},model:{value:e.name,callback:function(n){t.$set(e,"name",n)},expression:"item.name"}})],1),n("b-input-group",{attrs:{size:"sm",prepend:"E-mail "}},[n("b-form-input",{attrs:{disabled:""},model:{value:e.email,callback:function(n){t.$set(e,"email",n)},expression:"item.email"}},[n("br")])],1),n("b-input-group",{attrs:{size:"sm",prepend:"TC No"}},[n("b-form-input",{attrs:{disabled:""},model:{value:e.idendity_no,callback:function(n){t.$set(e,"idendity_no",n)},expression:"item.idendity_no"}})],1),e.parents.length>0?n("b-label",[t._v(t._s(e.name)+" PARENTS ")]):t._e(),n("hr"),t._l(e.parents,(function(e){return n("b-list-group-item",{key:e.account_code,staticClass:"mt-3"},[n("b-input-group",{attrs:{size:"sm",prepend:"Name"}},[n("b-form-input",{attrs:{disabled:""},model:{value:e.name,callback:function(n){t.$set(e,"name",n)},expression:"par.name"}})],1),n("b-input-group",{attrs:{size:"sm",prepend:"Surname"}},[n("b-form-input",{attrs:{disabled:""},model:{value:e.surname,callback:function(n){t.$set(e,"surname",n)},expression:"par.surname"}})],1),n("b-input-group",{attrs:{size:"sm",prepend:"Mobile"}},[n("b-form-input",{attrs:{disabled:""},model:{value:e.mobile,callback:function(n){t.$set(e,"mobile",n)},expression:"par.mobile"}})],1),n("b-input-group",{attrs:{size:"sm",prepend:"E-mail"}},[n("b-form-input",{attrs:{disabled:""},model:{value:e.email,callback:function(n){t.$set(e,"email",n)},expression:"par.email"}})],1)],1)}))],2)})),1)],1)},T=[],D={name:"allstudentlistcomp",props:["data"],methods:{}},q=D,M=(n("8649"),Object(l["a"])(q,P,T,!1,null,"17aea497",null)),B=M.exports,G=n("bc3a"),J=n.n(G),H={name:"homelogincompcont",props:["isLogin"],components:{HomeNoLogin:k,HomeLoggedInComp:C,StudentListComp:N,AllStudentListComp:B},data:function(){return{dataStudent:[],dataStudentWithParents:[],isLoginInternal:this.$stAuth.loadAuthInit()}},methods:{mapStudentListCompData:function(t){var e=t.map((function(t){return{idendity_no:t.idendity_no,email:t.email,name:t.name}}));return e},getParentsStudentsData:function(){var t=this;J()({url:"https://mulakat.stemizer.com/rest/student/my",method:"get",headers:{Authorization:"Bearer "+this.$stAuth.token}}).then((function(e){console.log(e),t.dataStudent=t.mapStudentListCompData(e.data)})).catch((function(t){console.log(t)}))},mapAllStudentsData:function(t){var e=t.map((function(t){return{idendity_no:t.idendity_no,email:t.email,name:t.name,parents:t.parents.map((function(t){return{account_code:t.account_code,email:t.email,mobile:t.mobile,name:t.name,surname:t.surname}}))}}));return console.log(e),e},getAllStudentsData:function(){var t=this;J()({url:"https://mulakat.stemizer.com/rest/student",method:"get",headers:{Authorization:"Bearer "+this.$stAuth.token}}).then((function(e){console.log(e),t.dataStudentWithParents=t.mapAllStudentsData(e.data)})).catch((function(t){console.log(t)}))}},created:function(){},ready:function(){}},W=H,V=Object(l["a"])(W,b,g,!1,null,null,null),U=V.exports,F={name:"home",props:["isLogin"],data:function(){return{}},components:{HomeLoginOutCont:U},methods:{},created:function(){}},K=F,Q=(n("70b4"),Object(l["a"])(K,h,f,!1,null,"6871aaaf",null)),X=Q.exports,Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-container",[n("b-row",{staticClass:"justify-content-md-center margin-center-top"},[n("b-card",{staticClass:"mb-6 text-center display-flex",staticStyle:{"max-width":"20rem"},attrs:{title:"PROFILE","img-src":"https://picsum.photos/600/300/?image=25","img-alt":"Image","img-top":"",tag:"article"}},[n("hr"),n("b-card-text",[n("b-form",{staticClass:"login",on:{submit:function(e){return e.preventDefault(),t.handleProfileSubmit(e)}}},[n("b-form-group",[n("b-form-input",{attrs:{required:"",type:"text",disabled:"",placeholder:"Account Code"},model:{value:t.account_code,callback:function(e){t.account_code=e},expression:"account_code"}})],1),n("b-form-group",[n("b-form-input",{attrs:{required:"",disabled:"",type:"text",placeholder:"E-mail"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),n("b-form-group",[n("b-form-input",{attrs:{required:"",type:"text",placeholder:"Name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),n("b-form-group",[n("b-form-input",{attrs:{required:"",type:"text",placeholder:"Surname"},model:{value:t.surname,callback:function(e){t.surname=e},expression:"surname"}})],1),n("hr"),n("b-form-group",[t.isSaved?t._e():n("b-button",{staticClass:"full-width",attrs:{variant:"danger",size:"sm",type:"submit"}},[t._v("SAVE")])],1),n("b-form-group",[t.isSaved?n("b-button",{staticClass:"full-width",attrs:{variant:"success",size:"sm",type:"submit"}},[t._v("SAVED")]):t._e()],1)],1),n("b-form-group",[n("b-button",{staticClass:"full-width",attrs:{variant:"success",size:"sm",type:"submit"},on:{click:function(e){return t.routeNav("/passwordchange")}}},[t._v("Password Change")])],1)],1)],1)],1)],1)],1)},Z=[],tt={name:"profile",data:function(){return{accessData:[],id:0,account_code:"",email:"",name:"",surname:"",isSaved:!1}},methods:{routeNav:function(t){this.$router.push(t)},handleProfileSubmit:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=this,{name:this.name,surname:this.surname},J()({url:"https://mulakat.stemizer.com/rest/profile",method:"post",headers:{Authorization:"Bearer "+this.$stAuth.token},data:{name:this.name,surname:this.surname}}).then((function(t){console.log(t),e.isSaved=!0})).catch((function(t){console.log(t),e.isSaved=!1}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},created:function(){var t=this,e=J.a.create({baseURL:"https://mulakat.stemizer.com",headers:{Authorization:"Bearer "+this.$stAuth.token}});console.log(this.$stAuth.token),J.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",e({url:"/rest/profile",method:"get"}).then((function(e){console.log(e);var n=e.data,a=n.id,r=n.account_code,o=n.email,i=n.name,s=n.surname;t.id=a,t.account_code=r,t.email=o,t.name=i,t.surname=s})).catch((function(t){console.log(t)}))}},et=tt,nt=Object(l["a"])(et,Y,Z,!1,null,null,null),at=nt.exports,rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-container",[n("b-row",{staticClass:"justify-content-md-center margin-center-top"},[n("b-card",{staticClass:"mb-6 text-center display-flex",staticStyle:{"max-width":"20rem"},attrs:{title:"LOGIN","img-src":"https://picsum.photos/600/300/?image=25","img-alt":"Image","img-top":"",tag:"article"}},[n("hr"),n("b-card-text",[n("form",{staticClass:"login",on:{submit:function(e){return e.preventDefault(),t.handleLoginSubmit(e)}}},[n("label",[t._v("E-mail")]),n("b-input",{attrs:{required:"",type:"text",placeholder:"E-mail"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),n("label",[t._v("Password")]),n("b-input",{attrs:{required:"",type:"password",placeholder:"Password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("hr"),n("b-button",{staticClass:"full-width",attrs:{variant:"success",size:"sm",type:"submit"}},[t._v("Login")])],1)])],1)],1)],1)],1)},ot=[],it={name:"login",data:function(){return{accessData:[],email:"",password:"",resultx:!1}},methods:{handleLoginSubmit:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$stAuth.login(this.email,this.password).then((function(t){!0===t?(location.reload(),e.$router.push("home")):e.resultx="E-mail or Password incorrect"})).catch((function(t){console.log(t),e.result="Please get in touch with support"}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},created:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{this.$stAuth.loadAuthInit()&&this.$router.push("home")}catch(e){}case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},st=it,ut=(n("d6db"),Object(l["a"])(st,rt,ot,!1,null,null,null)),ct=ut.exports,lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-container",[n("b-row",{staticClass:"justify-content-md-center margin-center-top"},[n("b-card",{staticClass:"mb-6 text-center display-flex",staticStyle:{width:"100%"},attrs:{title:"Logging Out",tag:"article"}},[n("hr"),n("b-card-text",[n("label",[t._v(" "+t._s(t.profileName))])])],1)],1)],1)],1)},mt=[],dt={name:"logout",data:function(){return{profileName:""}},methods:{},created:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.profileName=this.$stAuth.profile["name"],e=this,console.log("logout"),this.$emit("loginEvent",{loggedIn:!1,error:null,errorMsg:null}),setTimeout((function(){e.$stAuth.logOut(),e.$router.push("login")}),2500);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},pt=dt,ht=Object(l["a"])(pt,lt,mt,!1,null,null,null),ft=ht.exports,bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-row",{staticClass:"justify-content-md-center margin-center-top"},[n("b-card",{staticClass:"mb-6 text-center display-flex",staticStyle:{"max-width":"20rem"},attrs:{title:"STUDENT REGISTER","img-src":"https://picsum.photos/600/300/?image=25","img-alt":"Image","img-top":"",tag:"article"}},[n("hr"),n("b-card-text",[n("b-form",{staticClass:"register",on:{reset:t.onReset,submit:function(e){return e.preventDefault(),t.handleRegisterSubmit(e)}}},[n("h1",[t._v("REGISTER")]),n("b-form-group",[n("b-form-input",{attrs:{required:"",type:"text",placeholder:"Account Code"},model:{value:t.account_code,callback:function(e){t.account_code=e},expression:"account_code"}})],1),n("b-form-group",[n("b-form-input",{attrs:{required:"",type:"text",placeholder:"E-mail"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),n("b-form-group",[n("b-form-input",{attrs:{required:"",type:"text",placeholder:"Name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),n("b-form-group",[n("b-form-input",{attrs:{required:"",type:"text",placeholder:"Surname"},model:{value:t.surname,callback:function(e){t.surname=e},expression:"surname"}})],1),n("b-form-group",[n("b-form-input",{attrs:{required:"",type:"password",placeholder:"Password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),n("hr"),n("b-button",{attrs:{variant:"danger",type:"submit"}},[t._v("Register")])],1)],1)],1)],1)],1)},gt=[],vt={name:"register",data:function(){return{accessData:[],account_code:"",email:"",name:"",surname:"",password:""}},methods:{handleRegisterSubmit:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return{account_code:this.account_code,email:this.email,name:this.name,surname:this.surname,password:this.password},t.next=3,this.$stAuth.register(this.account_code,this.email,this.name,this.surname,this.password).then((function(t){console.log(t)}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onReset:function(t){t.preventDefault(),this.form.email="",this.form.name="",this.form.food=null,this.form.checked=[]}},created:function(){this.account_code="",this.email="",this.name="",this.surname="",this.password=""}},wt=vt,_t=Object(l["a"])(wt,bt,gt,!1,null,null,null),yt=_t.exports,xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-container",[n("b-row",{staticClass:"justify-content-md-center margin-center-top"},[n("b-card",{staticClass:"mb-6 text-center display-flex",staticStyle:{"max-width":"20rem"},attrs:{title:"PASSWORD CHANGE","img-src":"https://picsum.photos/600/300/?image=25","img-alt":"Image","img-top":"",tag:"article"}},[n("hr"),n("b-card-text",[n("b-form",{staticClass:"password-change",on:{submit:function(e){return e.preventDefault(),t.handleRegisterStudentSubmit(e)}}},[n("b-form-group",[n("b-form-input",{attrs:{required:"",type:"text",placeholder:"Current Password"},model:{value:t.current_password,callback:function(e){t.current_password=e},expression:"current_password"}})],1),n("b-form-group",[n("b-form-input",{attrs:{required:"",type:"text",placeholder:"New Password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),n("b-form-group",[n("b-form-input",{attrs:{required:"",type:"text",placeholder:"New Password Repeat"},model:{value:t.password_confirmation,callback:function(e){t.password_confirmation=e},expression:"password_confirmation"}})],1),n("hr"),n("b-form-group",[t.isSaved?t._e():n("b-button",{staticClass:"full-width",attrs:{variant:"danger",size:"sm",type:"submit"}},[t._v("SAVE")])],1),n("b-form-group",[t.isSaved?n("b-button",{staticClass:"full-width",attrs:{variant:"success",size:"sm",type:"submit"}},[t._v("SAVED")]):t._e()],1)],1)],1)],1)],1)],1)],1)},kt=[],St={name:"passwordchange",data:function(){return{accessData:[],current_password:"",password:"",password_confirmation:"",isSaved:!1}},methods:{routeNav:function(t){this.$router.push(t)},handleRegisterStudentSubmit:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=this,n={current_password:this.current_password,password:this.password,password_confirmation:this.password_confirmation},J()({url:"https://mulakat.stemizer.com/rest/auth/changePassword",method:"post",headers:{Authorization:"Bearer "+this.$stAuth.token},data:n}).then((function(t){console.log(t),e.isSaved=!0,setTimeout(e.routeNav("/profile"),1500)})).catch((function(t){console.log(t),e.isSaved=!1}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},Ot=St,jt=Object(l["a"])(Ot,xt,kt,!1,null,null,null),At=jt.exports,Lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-container",[n("b-row",{staticClass:"justify-content-md-center margin-center-top"},[n("b-card",{staticClass:"mb-6 text-center display-flex",staticStyle:{"max-width":"20rem"},attrs:{title:"STUDENT REGISTER","img-src":"https://picsum.photos/600/300/?image=25","img-alt":"Image","img-top":"",tag:"article"}},[n("hr"),n("b-card-text",[n("b-form",{staticClass:"login",on:{submit:function(e){return e.preventDefault(),t.handleRegisterStudentSubmit(e)}}},[n("b-form-group",[n("b-form-input",{attrs:{required:"",type:"text",placeholder:"TC No"},model:{value:t.idendity_no,callback:function(e){t.idendity_no=e},expression:"idendity_no"}})],1),n("b-form-group",[n("b-form-input",{attrs:{required:"",type:"text",placeholder:"E-mail"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),n("b-form-group",[n("b-form-input",{attrs:{required:"",type:"text",placeholder:"Name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),n("b-form-group",[n("b-form-input",{attrs:{required:"",type:"text",placeholder:"Surname"},model:{value:t.surname,callback:function(e){t.surname=e},expression:"surname"}})],1),n("hr"),n("b-col",[t.isSaved?t._e():n("b-button",{staticClass:"full-width",attrs:{variant:"danger",size:"sm",type:"submit"}},[t._v("SAVE")])],1),n("b-col",[t.isSaved?n("b-button",{staticClass:"full-width",attrs:{variant:"success",size:"sm",type:"submit"}},[t._v("SAVED - Redirecting")]):t._e()],1)],1)],1)],1)],1)],1)],1)},Ct=[],Et={name:"registerstudent",data:function(){return{accessData:[],idendity_no:"",email:"",name:"",surname:"",isSaved:!1}},methods:{routeNav:function(t){this.$router.push(t)},handleRegisterStudentSubmit:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=this,n={idendity_no:this.idendity_no,email:this.email,name:this.name,surname:this.surname},J()({url:"https://mulakat.stemizer.com/rest/student",method:"post",headers:{Authorization:"Bearer "+this.$stAuth.token},data:n}).then((function(t){console.log(t),e.isSaved=!0,setTimeout(e.routeNav("/"),2e3)})).catch((function(t){console.log(t),e.isSaved=!1}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},$t=Et,Rt=Object(l["a"])($t,Lt,Ct,!1,null,null,null),zt=Rt.exports,It=n("d225"),Nt=n("b0b4"),Pt=n("308d"),Tt=n("6bb5"),Dt=n("013f"),qt=n("4e2b"),Mt=n("bd86"),Bt="stAuth",Gt="loginEvent",Jt="1.0.1",Ht="1.0.2",Wt=function(t){function e(){var t,n;Object(It["a"])(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=Object(Pt["a"])(this,(t=Object(Tt["a"])(e)).call.apply(t,[this].concat(r))),Object(Mt["a"])(Object(Dt["a"])(n),"token",null),Object(Mt["a"])(Object(Dt["a"])(n),"profile",null),Object(Mt["a"])(Object(Dt["a"])(n),"tokenExpiry",null),Object(Mt["a"])(Object(Dt["a"])(n),"code",null),Object(Mt["a"])(Object(Dt["a"])(n),"loggedIn",null),Object(Mt["a"])(Object(Dt["a"])(n),"error",null),Object(Mt["a"])(Object(Dt["a"])(n),"errorMessage",null),Object(Mt["a"])(Object(Dt["a"])(n),"self",Object(Dt["a"])(n)),n}return Object(qt["a"])(e,t),Object(Nt["a"])(e,[{key:"login",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,n){var a,r,o,i,s=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=s.length>2&&void 0!==s[2]?s[2]:"tr",r=!1,o=this,i={email:e,password:n,locale:a},J.a.defaults.headers.post["Content-Type"]="application/json",t.abrupt("return",J.a.post("https://mulakat.stemizer.com/rest/auth/signin",i).then((function(t){console.log(t);var e=t.data;return o.token=e.token,o.profile=e.accountInfo,o.code=e.code,o.loggedIn=!0,o.emit(Gt,{loggedIn:!0,error:null,errorMsg:null}),localStorage.setItem(Bt,JSON.stringify(e)),r=!0,r})).catch((function(t){return console.log(t),r=!1,r})));case 6:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"logOut",value:function(){var t=this;try{J()({url:"https://mulakat.stemizer.com/rest/auth/signout",method:"delete",headers:{Authorization:"Bearer "+t.getToken()}}).then((function(t){console.log(t),!0===t.data.success&&console.log("success logout")})).catch((function(t){console.log(t)}))}catch(e){console.log("error try--catch")}localStorage.removeItem(Bt),this.token=null,this.tokenExpiry=null,this.profile=null,this.code=null,this.loggedIn=null,location.reload()}},{key:"register",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,n,a,r,o){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i={account_code:e,email:n,name:a,surname:r,password:o},J.a.defaults.headers.post["Content-Type"]="application/json",t.abrupt("return",J.a.post("https://mulakat.stemizer.com/rest/account/signup",i).then((function(t){console.log(t),self.data=t.data})).catch((function(t){console.log(t)})));case 3:case"end":return t.stop()}}),t)})));function e(e,n,a,r,o){return t.apply(this,arguments)}return e}()},{key:"isAuthenticated",value:function(){return this.token&&void 0!==localStorage.getItem(Bt)}},{key:"isLocalStorage",value:function(){return null!==localStorage.getItem(Bt)&&void 0!==localStorage.getItem(Bt)||(console.log("Access toke does not exist Renws error"),!1)}},{key:"getToken",value:function(){if(this.isLocalStorage()){var t=JSON.parse(localStorage.getItem(Bt));return this.token=t.token,t.token}}},{key:"getIsLogin",value:function(){if(this.isLocalStorage()){var t=JSON.parse(localStorage.getItem(Bt));return this.token=t.token,t.token}}},{key:"isTokenValid",value:function(){return this.code!==Jt&&this.code!==Ht}},{key:"loadAuthInit",value:function(){var t=this;if(this.isLocalStorage()){var e=JSON.parse(localStorage.getItem(Bt));return t.token=e.token,t.profile=e.accountInfo,t.code=e.code,t.loggedIn=!0,!0}return!1}},{key:"renewTokens",value:function(){var t=null;if(console.log("here"),null===localStorage.getItem(Bt)||void 0===localStorage.getItem(Bt))return console.log("Access toke does not exist Renews error"),!1;t=JSON.parse(localStorage.getItem(Bt)),void 0===t.token||null===t.token?console.log("Not logged in"):(console.log(t["token"]),J.a.post("https://mulakat.stemizer.com/rest/auth/refresh",{token:t["token"]}).then((function(t){console.log(t),!0===t.data.success&&console.log("success refresh")})).catch((function(t){console.log("Error refresh"),console.log(t)})))}}]),e}(s["EventEmitter"]),Vt=new Wt;Vt.setMaxListeners(5);var Ut=Vt;a["default"].use(p["a"]);var Ft=new p["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:X},{path:"/home",name:"home",component:X},{path:"/login",name:"login",component:ct},{path:"/logout",name:"logout",component:ft},{path:"/register",name:"register",component:yt},{path:"/profile",name:"profile",component:at},{path:"/passwordchange",name:"passwordchange",component:At},{path:"/registerstudent",name:"registerstudent",component:zt}]});Ft.beforeEach((function(t,e,n){if("/"===t.path||"/login"===t.path||"/register"===t.path||Ut.isAuthenticated())return n();Ft.push("login")}));var Kt=Ft,Qt={install:function(t){t.prototype.$stAuth=Ut,t.mixin({created:function(){this.handleLoginEvent&&Ut.addListener("loginEvent",this.handleLoginEvent)},destroyed:function(){this.handleLoginEvent&&Ut.removeListener("loginEvent",this.handleLoginEvent)}})}},Xt=n("5f5b"),Yt=(n("f9e3"),n("2dd8"),n("f029"));a["default"].use(Yt["a"]),a["default"].use(Xt["a"]),a["default"].use(Qt),a["default"].config.productionTip=!1,new a["default"]({router:Kt,render:function(t){return t(d)}}).$mount("#app")},"64a9":function(t,e,n){},"709a":function(t,e,n){},"70b4":function(t,e,n){"use strict";var a=n("709a"),r=n.n(a);r.a},8649:function(t,e,n){"use strict";var a=n("c20d"),r=n.n(a);r.a},a9e7:function(t,e,n){},c20d:function(t,e,n){},d3ae:function(t,e,n){"use strict";var a=n("2f65"),r=n.n(a);r.a},d6db:function(t,e,n){"use strict";var a=n("a9e7"),r=n.n(a);r.a}});
//# sourceMappingURL=app.6dd3b1ef.js.map